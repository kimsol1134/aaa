# 02_고급_도메인_특성공학 - 분할 요약 문서

> 원본: `notebooks/02_고급_도메인_특성공학.ipynb`
>
> 원본 요약 파일: `docs/notebook_summaries/02_고급_도메인_특성공학_summary.md` (65KB)

## 📌 왜 분할했나?

**문제:** 65KB 요약 파일도 다른 컨텍스트와 합쳐지면 Claude Code가 읽기 어려움

**해결:** 카테고리별로 8개 파일로 분할 (3.6KB ~ 14KB)

## 📂 파일 구조

```
02_특성공학/
├── README.md                           # 이 파일 (사용 가이드)
├── 00_개요_및_목차.md                  # 8.6KB - 전체 개요 및 이론적 배경
├── 01_유동성위기_특성.md               # 5.4KB - 환경 설정 + 10개 특성
├── 02_지급불능패턴_특성.md             # 3.6KB - 8개 특성
├── 03_재무조작탐지_특성.md             # 5.7KB - 15개 특성 (한국형 M-Score)
├── 04_한국시장특화_특성.md             # 7.7KB - 13개 특성
├── 05_이해관계자행동_특성.md           # 14KB - 이해관계자(9) + 성장성(5) + 수익성(5)
├── 06_복합리스크_특성.md               # 7.9KB - 7개 복합 지표
└── 07_상호작용비선형_특성.md           # 13KB - 3개 특성 + 저장 + 중요도 + 인사이트
```

## 🎯 사용 방법

### 1. 전체 흐름 파악하기
먼저 `00_개요_및_목차.md`를 읽으세요:
- 왜 도메인 특성이 필요한가?
- 기업 부도의 3가지 경로
- 특성 공학 전략
- 이론적 배경

### 2. 특정 카테고리 작업 시
필요한 카테고리 파일만 읽으세요:

**예시 1: 유동성 관련 특성 수정**
```
→ 01_유동성위기_특성.md 읽기
→ 10개 특성 코드 확인
→ notebooks/02_고급_도메인_특성공학.ipynb에서 수정
```

**예시 2: 재무조작 탐지 로직 이해**
```
→ 03_재무조작탐지_특성.md 읽기
→ Beneish M-Score 한국형 구현 확인
→ 15개 특성 생성 로직 파악
```

**예시 3: 한국 시장 특화 특성 추가**
```
→ 04_한국시장특화_특성.md 읽기
→ 기존 13개 특성 파악
→ 새로운 특성 아이디어 도출
```

### 3. Claude Code와 대화 시
필요한 파일만 컨텍스트로 제공:

```
"docs/notebook_summaries/02_특성공학/03_재무조작탐지_특성.md 읽고
M-Score 계산 로직을 설명해줘"
```

```
"docs/notebook_summaries/02_특성공학/06_복합리스크_특성.md와
07_상호작용비선형_특성.md를 읽고 복합 지표 설계 원칙을 정리해줘"
```

## 📊 각 파일별 내용 요약

| 파일 | 특성 수 | 주요 내용 | 읽어야 할 때 |
|------|---------|-----------|--------------|
| 00_개요 | - | 왜/무엇을/어떻게, 이론적 배경 | 프로젝트 전체 이해 필요 시 |
| 01_유동성 | 10개 | 현금소진일수, 운전자본, 당좌비율 | 단기 생존 가능성 분석 시 |
| 02_지급불능 | 8개 | 자본잠식도, 이자보상배율, 부채상환년수 | 장기 회생 가능성 분석 시 |
| 03_재무조작 | 15개 | 한국형 M-Score, 발생액 품질 | 회계 신뢰성 검증 필요 시 |
| 04_한국시장 | 13개 | 외감 여부, 제조업 리스크, 대기업 의존도 | 한국 특화 리스크 분석 시 |
| 05_이해관계자 | 9+5+5 | 연체/신용등급 + 성장성 + 수익성 | 신용 행동/성장/수익 분석 시 |
| 06_복합리스크 | 7개 | 종합부도위험스코어, 조기경보신호수 | 전체 위험도 종합 판단 시 |
| 07_상호작용 | 3개 | 비선형 관계, 저장, 특성 중요도 | 복잡한 패턴 분석 및 결과 확인 시 |

## 🔧 특성 수정/추가 워크플로우

### 특성 수정 시
1. 해당 카테고리 분할 파일 읽기 (예: `03_재무조작탐지_특성.md`)
2. 원본 노트북에서 수정 (`notebooks/02_고급_도메인_특성공학.ipynb`)
3. 노트북 실행 후 요약 재생성:
   ```bash
   python scripts/create_notebook_summary.py
   ```
4. 분할 파일 재생성:
   ```bash
   # 아래 명령어로 다시 분할
   sed -n '442,572p' docs/notebook_summaries/02_고급_도메인_특성공학_summary.md > \
   docs/notebook_summaries/02_특성공학/03_재무조작탐지_특성.md
   ```

### 새 특성 추가 시
1. `00_개요_및_목차.md`에서 전체 특성 체계 확인
2. 적절한 카테고리 파일 읽기
3. 원본 노트북에서 특성 추가
4. 요약 및 분할 파일 재생성

## 💡 활용 팁

### Tip 1: 순차적으로 읽기
처음 프로젝트를 이해하려면:
```
00 → 01 → 02 → ... → 07 순서로 읽기
```

### Tip 2: 선택적으로 읽기
특정 작업 시 필요한 파일만:
```
재무조작 탐지 로직 수정:
  → 00 (배경 이해) + 03 (재무조작) 만 읽기

한국 시장 특성 추가:
  → 00 (배경) + 04 (한국시장) 만 읽기
```

### Tip 3: 병렬로 읽기
비교/분석 시:
```
"유동성과 지급불능의 차이점은?"
  → 01 + 02 동시에 읽기

"복합 지표 설계 원칙은?"
  → 06 + 07 동시에 읽기
```

## 📈 파일 크기 비교

```
원본 노트북:     7.9 MB
전체 요약:       65 KB (99% 감소)
분할 파일 평균:  8 KB  (87% 추가 감소)
```

**결과:** Claude Code가 필요한 부분만 효율적으로 읽을 수 있음

## 🔄 재생성 방법

요약 파일이 변경되어 재분할이 필요할 때:

```bash
# 1. 원본 요약 파일 재생성
python scripts/create_notebook_summary.py

# 2. 분할 파일 재생성
cd /home/user/aaa

sed -n '1,201p' docs/notebook_summaries/02_고급_도메인_특성공학_summary.md > \
  docs/notebook_summaries/02_특성공학/00_개요_및_목차.md

sed -n '202,351p' docs/notebook_summaries/02_고급_도메인_특성공학_summary.md > \
  docs/notebook_summaries/02_특성공학/01_유동성위기_특성.md

sed -n '352,441p' docs/notebook_summaries/02_고급_도메인_특성공학_summary.md > \
  docs/notebook_summaries/02_특성공학/02_지급불능패턴_특성.md

sed -n '442,572p' docs/notebook_summaries/02_고급_도메인_특성공학_summary.md > \
  docs/notebook_summaries/02_특성공학/03_재무조작탐지_특성.md

sed -n '573,781p' docs/notebook_summaries/02_고급_도메인_특성공학_summary.md > \
  docs/notebook_summaries/02_특성공학/04_한국시장특화_특성.md

sed -n '782,1111p' docs/notebook_summaries/02_고급_도메인_특성공학_summary.md > \
  docs/notebook_summaries/02_특성공학/05_이해관계자행동_특성.md

sed -n '1112,1344p' docs/notebook_summaries/02_고급_도메인_특성공학_summary.md > \
  docs/notebook_summaries/02_특성공학/06_복합리스크_특성.md

sed -n '1345,1697p' docs/notebook_summaries/02_고급_도메인_특성공학_summary.md > \
  docs/notebook_summaries/02_특성공학/07_상호작용비선형_특성.md

echo "✅ 분할 완료"
ls -lh docs/notebook_summaries/02_특성공학/
```

## 📝 참고사항

- **원본 파일 유지**: `02_고급_도메인_특성공학_summary.md`는 그대로 유지 (백업용)
- **자동 업데이트 없음**: 원본 요약이 변경되어도 분할 파일은 자동 업데이트되지 않음
- **수동 재생성 필요**: 위 재생성 스크립트를 실행해야 함

## 🎓 다음 단계

분할된 파일을 읽은 후:
1. 원본 노트북에서 실제 구현 확인
2. 특성 생성 로직 이해
3. 필요시 수정/추가
4. 다음 노트북(`03_상관관계_및_리스크_패턴_분석.ipynb`)으로 진행

---

**작성일:** 2025-11-22
**생성 스크립트:** sed 명령어 사용
**원본 라인 수:** 1697줄
**분할 기준:** 카테고리별 (## 섹션 헤더 기준)
