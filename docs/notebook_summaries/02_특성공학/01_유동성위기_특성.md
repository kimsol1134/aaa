## 1. í™˜ê²½ ì„¤ì • ë° ë°ì´í„° ë¡œë”©

### ğŸ“¦ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

- **pandas**: ë°ì´í„° ì²˜ë¦¬ ë° íŠ¹ì„± ìƒì„±
- **numpy**: ìˆ˜ì¹˜ ê³„ì‚° ë° ë¬´í•œëŒ€ ê°’ ì²˜ë¦¬
- **sklearn**: StandardScaler (ì •ê·œí™”), RandomForestClassifier (íŠ¹ì„± ì¤‘ìš”ë„)

### ğŸ“Š ì›ë³¸ ë°ì´í„°

- íŒŒì¼: `data/ê¸°ì—…ì‹ ìš©í‰ê°€ì •ë³´_210801.csv`
- ê¸°ì—… ìˆ˜: 50,105ê°œ
- ë³€ìˆ˜ ìˆ˜: 159ê°œ (ì¬ë¬´/ì‹ ìš© ë³€ìˆ˜)
- íƒ€ê²Ÿ ë³€ìˆ˜: `ëª¨í˜•ê°œë°œìš©Performance(í–¥í›„1ë…„ë‚´ë¶€ë„ì—¬ë¶€)`
- ë¶€ë„ìœ¨: ~1.5% (ë¶ˆê· í˜• ë°ì´í„°)


### ì½”ë“œ ì…€ #1

```python
import warnings
warnings.filterwarnings('ignore')

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from scipy import stats
from sklearn.preprocessing import StandardScaler, RobustScaler
from sklearn.model_selection import train_test_split
import plotly.graph_objects as go
from plotly.subplots import make_subplots
import plotly.express as px

# í•œê¸€ í°íŠ¸ ì„¤ì •
import platform
if platform.system() == 'Darwin':
    plt.rc('font', family='AppleGothic')
elif platform.system() == 'Windows':
    plt.rc('font', family='Malgun Gothic')
else:
    plt.rc('font', family='NanumGothic')
plt.rc('axes', unicode_minus=False)

# ë°ì´í„° ë¡œë”©
df = pd.read_csv('../data/ê¸°ì—…ì‹ ìš©í‰ê°€ì •ë³´_210801.csv', encoding='utf-8')
target_col = 'ëª¨í˜•ê°œë°œìš©Performance(í–¥í›„1ë…„ë‚´ë¶€ë„ì—¬ë¶€)'

print(f"âœ… ë°ì´í„° ë¡œë”© ì™„ë£Œ: {df.shape[0]:,} ê¸°ì—…, {df.shape[1]:,} ë³€ìˆ˜")
print(f"âœ… ë¶€ë„ìœ¨: {df[target_col].mean()*100:.2f}%")
```

**ì¶œë ¥:**

```
âœ… ë°ì´í„° ë¡œë”© ì™„ë£Œ: 50,105 ê¸°ì—…, 159 ë³€ìˆ˜
âœ… ë¶€ë„ìœ¨: 1.51%
```

---

## 2. ìœ ë™ì„± ìœ„ê¸° ì¡°ê¸° ê°ì§€ íŠ¹ì„±

### ğŸ’¡ ì™œ ìœ ë™ì„±ì´ ê°€ì¥ ì¤‘ìš”í•œê°€?

**ê²½ì œì  ê°€ì„¤: "ë¶€ë„ëŠ” ì§€ê¸‰ë¶ˆëŠ¥ì´ ì•„ë‹Œ ìœ ë™ì„± ìœ„ê¸°ë¡œ ì‹œì‘ëœë‹¤"**

**í•™ìˆ ì  ë°°ê²½ (Whitaker 1999):**
- ë¶€ë„ ê¸°ì—…ì˜ **67%ëŠ” í‘ì**ì˜€ìŒ (ì¥ë¶€ìƒ ì´ìµ ë°œìƒ)
- í•˜ì§€ë§Œ **í˜„ê¸ˆì´ ì—†ì–´ì„œ** ê¸‰ì—¬/ì„¸ê¸ˆ/ì´ìë¥¼ ì§€ê¸‰í•˜ì§€ ëª»í•¨
- ìœ ë™ì„± ìœ„ê¸°ëŠ” ë¶€ë„ **3~6ê°œì›” ì „**ì— ë‚˜íƒ€ë‚¨

**ì‹¤ë¬´ ì‚¬ë¡€:**
```
ê±´ì„¤ì—…ì²´ Aì‚¬:
- ì˜ì—…ì´ìµ: 100ì–µ (í‘ì) âœ…
- í˜„ê¸ˆë°í˜„ê¸ˆì„±ìì‚°: 5ì–µ âŒ
- ë‹¨ê¸°ì°¨ì…ê¸ˆ: 200ì–µ (3ê°œì›” ë‚´ ë§Œê¸°) âŒ
- ì¦‰ê°ì§€ê¸‰ëŠ¥ë ¥ = 5 / 200 = 0.025 (2.5%) â†’ ìœ„í—˜!
- ê²°ê³¼: 2ê°œì›” í›„ ë¶€ë„
```

### ìƒì„±í•  10ê°œ ìœ ë™ì„± íŠ¹ì„±

| íŠ¹ì„± | ì˜ë¯¸ | ì„ê³„ê°’ |
|------|------|--------|
| ì¦‰ê°ì§€ê¸‰ëŠ¥ë ¥ | í˜„ê¸ˆ / ë‹¨ê¸°ë¶€ì±„ | < 0.1 ìœ„í—˜ |
| í˜„ê¸ˆì†Œì§„ì¼ìˆ˜ | í˜„ê¸ˆ / ì¼í‰ê· ì§€ì¶œ | < 30ì¼ ìœ„í—˜ |
| ìš´ì „ìë³¸ë¹„ìœ¨ | (ìœ ë™ìì‚°-ìœ ë™ë¶€ì±„) / ì´ìì‚° | < 0 ìœ„í—˜ |
| ë‹¹ì¢Œë¹„ìœ¨ | (ìœ ë™ìì‚°-ì¬ê³ ) / ìœ ë™ë¶€ì±„ | < 1.0 ì£¼ì˜ |
| í˜„ê¸ˆë¹„ìœ¨ | í˜„ê¸ˆ / ìœ ë™ë¶€ì±„ | < 0.2 ì£¼ì˜ |
| ìœ ë™ì„±ê°­ | ìœ ë™ìì‚° - ìœ ë™ë¶€ì±„ | < 0 ìœ„í—˜ |
| ë‹¨ê¸°ë¶€ì±„ë¹„ì¤‘ | ë‹¨ê¸°ë¶€ì±„ / ì´ë¶€ì±„ | > 0.5 ì£¼ì˜ |
| í˜„ê¸ˆíë¦„ëŒ€ë¹„ë¶€ì±„ | ì´ë¶€ì±„ / ì˜ì—…í˜„ê¸ˆíë¦„ | > 5 ìœ„í—˜ |
| ê¸´ê¸‰ìœ ë™ì„± | ì´ˆìœ ë™ìì‚° / ìœ ë™ë¶€ì±„ | < 0.5 ì£¼ì˜ |
| ìš´ì „ìë³¸íšŒì „ìœ¨ | ë§¤ì¶œ / ìš´ì „ìë³¸ | < 1 ì£¼ì˜ |


### ì½”ë“œ ì…€ #2

```python
def create_liquidity_crisis_features(df):
    """ìœ ë™ì„± ìœ„ê¸°ë¥¼ ì¡°ê¸°ì— ê°ì§€í•˜ëŠ” íŠ¹ì„± ìƒì„±"""
    
    features = pd.DataFrame(index=df.index)
    
    # 1. ì¦‰ê°ì  ì§€ê¸‰ëŠ¥ë ¥
    if 'í˜„ê¸ˆ' in df.columns and 'ìœ ë™ë¶€ì±„' in df.columns:
        features['ì¦‰ê°ì§€ê¸‰ëŠ¥ë ¥'] = (df['í˜„ê¸ˆ'] + df.get('í˜„ê¸ˆì„±ìì‚°', 0)) / (df['ìœ ë™ë¶€ì±„'] + 1)
        features['í˜„ê¸ˆì†Œì§„ì¼ìˆ˜'] = (df['í˜„ê¸ˆ'] + df.get('í˜„ê¸ˆì„±ìì‚°', 0)) / (df.get('ì˜ì—…ë¹„ìš©', df['ë§¤ì¶œì›ê°€']) / 365 + 1)
    
    # 2. ìš´ì „ìë³¸ ê±´ì „ì„±
    if 'ìœ ë™ìì‚°' in df.columns and 'ìœ ë™ë¶€ì±„' in df.columns:
        features['ìš´ì „ìë³¸'] = df['ìœ ë™ìì‚°'] - df['ìœ ë™ë¶€ì±„']
        features['ìš´ì „ìë³¸ë¹„ìœ¨'] = features['ìš´ì „ìë³¸'] / (df.get('ë§¤ì¶œì•¡', 1) + 1)
        features['ìš´ì „ìë³¸_ëŒ€_ìì‚°'] = features['ìš´ì „ìë³¸'] / (df.get('ìì‚°ì´ê³„', 1) + 1)
    
    # 3. ê¸´ê¸‰ ìê¸ˆì¡°ë‹¬ ì—¬ë ¥
    if 'ë§¤ì¶œì±„ê¶Œ' in df.columns and 'ë‹¨ê¸°ì°¨ì…ê¸ˆ' in df.columns:
        features['ê¸´ê¸‰ìœ ë™ì„±'] = (df['í˜„ê¸ˆ'] + df.get('í˜„ê¸ˆì„±ìì‚°', 0) + df['ë§¤ì¶œì±„ê¶Œ'] * 0.8) / (df['ë‹¨ê¸°ì°¨ì…ê¸ˆ'] + 1)
    
    # 4. ìœ ë™ì„± ì••ë°• ì§€í‘œ
    if 'ìœ ë™ë¶€ì±„' in df.columns and 'ë¶€ì±„ì´ê³„' in df.columns:
        features['ë‹¨ê¸°ë¶€ì±„ë¹„ì¤‘'] = df['ìœ ë™ë¶€ì±„'] / (df['ë¶€ì±„ì´ê³„'] + 1)
        features['ìœ ë™ì„±ì••ë°•ì§€ìˆ˜'] = (df['ìœ ë™ë¶€ì±„'] / (df['ìœ ë™ìì‚°'] + 1)) * (df['ë¶€ì±„ì´ê³„'] / (df['ìì‚°ì´ê³„'] + 1))
    
    # 5. í˜„ê¸ˆíë¦„ ê¸°ë°˜ ìœ ë™ì„±
    if 'ì˜ì—…í™œë™í˜„ê¸ˆíë¦„' in df.columns:
        features['OCF_ëŒ€_ìœ ë™ë¶€ì±„'] = df['ì˜ì—…í™œë™í˜„ê¸ˆíë¦„'] / (df.get('ìœ ë™ë¶€ì±„', 1) + 1)
        features['í˜„ê¸ˆì°½ì¶œëŠ¥ë ¥'] = df['ì˜ì—…í™œë™í˜„ê¸ˆíë¦„'] / (df.get('ë§¤ì¶œì•¡', 1) + 1)
    
    print(f"âœ… ìœ ë™ì„± ìœ„ê¸° íŠ¹ì„± {features.shape[1]}ê°œ ìƒì„± ì™„ë£Œ")
    return features

liquidity_features = create_liquidity_crisis_features(df)
print("\nìƒì„±ëœ ìœ ë™ì„± íŠ¹ì„±:")
print(liquidity_features.columns.tolist())
```

**ì¶œë ¥:**

```
âœ… ìœ ë™ì„± ìœ„ê¸° íŠ¹ì„± 10ê°œ ìƒì„± ì™„ë£Œ

ìƒì„±ëœ ìœ ë™ì„± íŠ¹ì„±:
['ì¦‰ê°ì§€ê¸‰ëŠ¥ë ¥', 'í˜„ê¸ˆì†Œì§„ì¼ìˆ˜', 'ìš´ì „ìë³¸', 'ìš´ì „ìë³¸ë¹„ìœ¨', 'ìš´ì „ìë³¸_ëŒ€_ìì‚°', 'ê¸´ê¸‰ìœ ë™ì„±', 'ë‹¨ê¸°ë¶€ì±„ë¹„ì¤‘', 'ìœ ë™ì„±ì••ë°•ì§€ìˆ˜', 'OCF_ëŒ€_ìœ ë™ë¶€ì±„', 'í˜„ê¸ˆì°½ì¶œëŠ¥ë ¥']
```

---

